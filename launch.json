{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Auth Service",
      "runtimeExecutable": "nodemon",
      "program": "${workspaceFolder}/services/auth-service/src/server.js",
      "envFile": "${workspaceFolder}/services/auth-service/.env",
      "env": { "NODE_ENV": "development" },
      "restart": true,
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Debug User Service",
      "runtimeExecutable": "nodemon",
      "program": "${workspaceFolder}/services/user-service/src/server.js",
      "cwd": "${workspaceFolder}/services/user-service",
      "envFile": "${workspaceFolder}/services/user-service/.env",
      "env": { "NODE_ENV": "development" },
      "restart": true,
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Admin Service",
      "runtimeExecutable": "nodemon",
      "program": "${workspaceFolder}/services/admin-service/src/api/server.js",
      "envFile": "${workspaceFolder}/services/admin-service/.env",
      "env": { "NODE_ENV": "development" },
      "restart": true,
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Audit Service",
      "runtimeExecutable": "nodemon",
      "program": "${workspaceFolder}/services/audit-service/src/consumer/server.ts",
      "cwd": "${workspaceFolder}/services/audit-service",
      "envFile": "${workspaceFolder}/services/audit-service/.env",
      "env": { "NODE_ENV": "development" },
      "runtimeArgs": ["--exec", "tsx"],
      "restart": true,
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Notification Service",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "dev"],
      "cwd": "${workspaceFolder}/services/notification-service",
      "envFile": "${workspaceFolder}/services/notification-service/.env",
      "env": { "NODE_ENV": "development" },
      "restart": true,
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Review Service",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "dev"],
      "cwd": "${workspaceFolder}/services/review-service",
      "envFile": "${workspaceFolder}/services/review-service/.env",
      "env": { "NODE_ENV": "development" },
      "restart": true,
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Web BFF",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "dev"],
      "cwd": "${workspaceFolder}/services/web-bff",
      "envFile": "${workspaceFolder}/services/web-bff/.env",
      "env": { "NODE_ENV": "development" },
      "restart": true,
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "debugpy",
      "request": "launch",
      "name": "Debug Product Service",
      "module": "uvicorn",
      "args": ["src.main:app", "--reload", "--host", "0.0.0.0", "--port", "8003"],
      "cwd": "${workspaceFolder}/services/product-service",
      "env": {
        "PYTHONUNBUFFERED": "1"
      },
      "console": "integratedTerminal",
      "justMyCode": false
    },
    {
      "type": "java",
      "request": "launch",
      "name": "Debug Order Processor Service",
      "mainClass": "com.aioutlet.orderprocessor.OrderProcessorApplication",
      "projectName": "order-processor-service",
      "cwd": "${workspaceFolder}/services/order-processor-service",
      "env": {
        "SPRING_PROFILES_ACTIVE": "local"
      },
      "envFile": "${workspaceFolder}/services/order-processor-service/.env",
      "args": [],
      "console": "integratedTerminal",
      "vmArgs": [
        "-Dspring.profiles.active=local",
        "-Dspring.devtools.restart.enabled=true",
        "-Dspring.devtools.livereload.enabled=true"
      ],
      "classPaths": ["${workspaceFolder}/services/order-processor-service/target/classes"],
      "modulePaths": []
    },
    {
      "type": "debugpy",
      "request": "launch",
      "name": "Debug Inventory Service",
      "module": "flask",
      "args": ["run", "--reload", "--host", "0.0.0.0", "--port", "5003"],
      "cwd": "${workspaceFolder}/services/inventory-service",
      "env": {
        "PYTHONUNBUFFERED": "1",
        "FLASK_APP": "run.py",
        "FLASK_ENV": "development"
      },
      "console": "integratedTerminal",
      "justMyCode": false
    },
    {
      "type": "coreclr",
      "request": "launch",
      "name": "Debug Order Service (API)",
      "program": "dotnet",
      "args": ["watch", "run", "--project", "OrderService.Api/OrderService.Api.csproj"],
      "cwd": "${workspaceFolder}/services/order-service",
      "env": { "ASPNETCORE_ENVIRONMENT": "Local", "ASPNETCORE_URLS": "http://localhost:5001" },
      "console": "integratedTerminal",
      "stopAtEntry": false
    },
    {
      "type": "coreclr",
      "request": "launch",
      "name": "Debug Payment Service",
      "program": "dotnet",
      "args": ["watch", "run", "--project", "PaymentService/PaymentService.csproj"],
      "cwd": "${workspaceFolder}/services/payment-service",
      "env": { "ASPNETCORE_ENVIRONMENT": "Local", "ASPNETCORE_URLS": "http://localhost:5002" },
      "console": "integratedTerminal",
      "stopAtEntry": false
    },
    {
      "type": "go",
      "request": "launch",
      "name": "Debug Cart Service",
      "mode": "auto",
      "program": "${workspaceFolder}/services/cart-service/cmd/server",
      "cwd": "${workspaceFolder}/services/cart-service",
      "envFile": "${workspaceFolder}/services/cart-service/.env",
      "env": { "ENVIRONMENT": "development", "SERVER_PORT": "8085" },
      "console": "integratedTerminal",
      "buildFlags": "-tags=dev"
    },
    {
      "type": "go",
      "request": "launch",
      "name": "Debug Message Broker Service",
      "mode": "auto",
      "program": "${workspaceFolder}/services/message-broker-service/cmd/server",
      "cwd": "${workspaceFolder}/services/message-broker-service",
      "envFile": "${workspaceFolder}/services/message-broker-service/.env",
      "console": "integratedTerminal"
    },
    {
      "type": "chrome",
      "request": "launch",
      "name": "Debug Web UI (Chrome)",
      "url": "http://localhost:3000",
      "webRoot": "${workspaceFolder}/ui/web-ui/src",
      "sourceMaps": true,
      "sourceMapPathOverrides": {
        "webpack:///src/*": "${webRoot}/*",
        "webpack:///./*": "${webRoot}/*",
        "webpack:///./~/*": "${webRoot}/node_modules/*"
      },
      "preLaunchTask": "start-web-ui"
    },
    {
      "type": "msedge",
      "request": "launch",
      "name": "Debug Web UI (Edge)",
      "url": "http://localhost:3000",
      "webRoot": "${workspaceFolder}/ui/web-ui/src",
      "sourceMaps": true,
      "sourceMapPathOverrides": {
        "webpack:///src/*": "${webRoot}/*",
        "webpack:///./*": "${webRoot}/*",
        "webpack:///./~/*": "${webRoot}/node_modules/*"
      },
      "preLaunchTask": "start-web-ui"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Run E2E Tests",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["test"],
      "cwd": "${workspaceFolder}/tests",
      "env": { "NODE_ENV": "test" },
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "name": "Debug Product Service with Dapr",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/services/product-service/src/main.py",
      "module": "uvicorn",
      "args": ["src.main:app", "--host", "0.0.0.0", "--port", "8003", "--reload"],
      "cwd": "${workspaceFolder}/services/product-service",
      "envFile": "${workspaceFolder}/services/product-service/.env",
      "console": "integratedTerminal",
      "preLaunchTask": "product-service: start with dapr",
      "postDebugTask": "dapr: stop all"
    },
    {
      "name": "Debug Product Service (Standalone)",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/services/product-service/src/main.py",
      "module": "uvicorn",
      "args": ["src.main:app", "--host", "0.0.0.0", "--port", "8003", "--reload"],
      "cwd": "${workspaceFolder}/services/product-service",
      "envFile": "${workspaceFolder}/services/product-service/.env",
      "env": {
        "DAPR_ENABLED": "false"
      },
      "console": "integratedTerminal"
    },
    {
      "name": "Debug Secret Manager (Product Service)",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/services/product-service/src/main.py",
      "module": "uvicorn",
      "args": ["src.main:app", "--host", "0.0.0.0", "--port", "8003", "--reload", "--log-level", "debug"],
      "cwd": "${workspaceFolder}/services/product-service",
      "envFile": "${workspaceFolder}/services/product-service/.env",
      "env": {
        "LOG_LEVEL": "DEBUG",
        "DAPR_ENABLED": "false"
      },
      "console": "integratedTerminal",
      "justMyCode": false
    }
  ]
}
